# Environment Configuration Template
# Copy this file to .env and customize values for your environment
# DO NOT commit .env files with real secrets to version control

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================

# Application Environment (development, staging, production)
NODE_ENV=development

# =============================================================================
# API SERVICE CONFIGURATION
# =============================================================================

# API Server Port
PORT=3000

# API Server Host (use 0.0.0.0 for Docker containers)
HOST=0.0.0.0

# API Base URL (used by frontend to connect to API)
API_BASE_URL=http://localhost:3000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# MongoDB Connection URI
# Development: mongodb://mongodb:27017/bb-db
# Production: mongodb://mongo:27017/bb-db
# External: mongodb://username:password@host:port/database
MONGODB_URI=mongodb://mongodb:27017/bb-db

# Database Name
DATABASE_NAME=bb-db

# Database Connection Options
DB_MAX_POOL_SIZE=10
DB_SERVER_SELECTION_TIMEOUT=5000
DB_SOCKET_TIMEOUT=45000

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================

# Frontend Development Server Port
FRONTEND_PORT=3001

# Frontend Host (use 0.0.0.0 for Docker containers)
FRONTEND_HOST=0.0.0.0

# API URL for frontend to connect to backend
VITE_API_URL=http://localhost:3000

# Enable file watching polling for Docker volumes
CHOKIDAR_USEPOLLING=true

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# Auto-seed database on startup (development only)
AUTO_SEED=true

# Container restart policy
RESTART_POLICY=unless-stopped

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Level (error, warn, info, debug)
LOG_LEVEL=info

# Enable request logging (true/false)
ENABLE_REQUEST_LOGGING=true

# Log file rotation settings
LOG_MAX_SIZE=10m
LOG_MAX_FILES=3

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================

# Health check intervals (in seconds)
HEALTH_CHECK_INTERVAL=15
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=30

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# CORS Origins (comma-separated list)
CORS_ORIGINS=http://localhost:3001,http://localhost:3000

# API Rate Limiting (requests per minute)
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60000

# Session Secret (generate a secure random string for production)
SESSION_SECRET=your-super-secret-session-key-change-this-in-production

# JWT Secret (generate a secure random string for production)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# These variables are typically overridden in production environments

# Production MongoDB URI (use external managed database)
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/bb-db

# Production API URL
# API_BASE_URL=https://api.yourdomain.com

# Production Frontend URL
# VITE_API_URL=https://api.yourdomain.com

# Production Logging
# LOG_LEVEL=warn
# ENABLE_REQUEST_LOGGING=false

# Production Security
# CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# =============================================================================
# STAGING ENVIRONMENT OVERRIDES
# =============================================================================
# Example staging configuration (uncomment and modify as needed)

# NODE_ENV=staging
# MONGODB_URI=mongodb://staging-mongo:27017/bb-db-staging
# API_BASE_URL=https://staging-api.yourdomain.com
# VITE_API_URL=https://staging-api.yourdomain.com
# LOG_LEVEL=debug
# AUTO_SEED=false

# =============================================================================
# DEVELOPMENT ENVIRONMENT OVERRIDES
# =============================================================================
# Example development configuration (current defaults)

# NODE_ENV=development
# MONGODB_URI=mongodb://mongodb:27017/bb-db
# API_BASE_URL=http://localhost:3000
# VITE_API_URL=http://localhost:3000
# LOG_LEVEL=debug
# AUTO_SEED=true
# ENABLE_REQUEST_LOGGING=true